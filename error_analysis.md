This technical analysis was originally published [here](https://github.com/Hong-Kong-Emergency-Coordination-Hub/Hong-Kong-Fire-Documentary/issues/256#issuecomment-3615847283) at an issue in the "Hong Kong Fire Documentary" repo, which unfortunately does not exist anymore starting from December 6, 2025. 

---

### Technical Analysis: Root Cause Differentiation Between IIS 404.0 and Plesk Custom Errors

**Executive Summary**

While I appreciate your investigation regarding the current HTTPS accessibility issues on `wangfuk.org`, a forensic analysis of the screen captures taken during the incident reveals that the "HTTPS Protocol Mismatch" theory does not explain the outage I experienced on the evening of the incident.

The visual and technical evidence conclusively points to two distinct and separate issues:
1.  **The Original Incident:** A critical, server-side infrastructure failure or maintenance event at the IIS (Internet Information Services) level.
2.  **The Current State:** A misconfiguration of the SSL/TLS binding within the hosting control panel (Plesk).

The following analysis details the architectural differences between the two error pages I received and explains why the initial outage was a server-side service interruption, not a client-side protocol error.

---

### 1. Forensic Evidence: The "White Page" (IIS Native 404)

https://github.com/sparktsang/wangfuk/blob/main/Error.jpg

The most critical piece of evidence is the first screenshot I captured (the white background with red text). This is not a standard web page; it is the **default, hard-coded HTTP 404.0 error response generated by Microsoft IIS 7.0+**.

#### The Significance of the "ugly" IIS Error
When a user visits a website hosted on a modern platform like Plesk, the server is configured to intercept standard HTTP errors and display "Friendly Error Pages" (like the astronaut image seen in the second screenshot).

For the raw, unstyled IIS error page to appear, the failure must occur at a level **below** the application layer or the custom error handling configuration. This specific "HTTP Error 404.0 - Not Found" page indicates that the request reached the `http.sys` kernel-mode driver and was handed to the IIS Worker Process (`w3wp.exe`), but the server was fundamentally unable to map the request to a valid handler or directory **before** it could even process the site's `web.config` file or the Plesk configuration.

#### Technical Conditions Required to Trigger this Specific Page:
*   **Root Directory Misconfiguration:** The physical path to the website’s root directory on the server’s file system may have been temporarily detached, renamed, or corrupted. If IIS cannot locate the folder specified in the site binding, it throws this native error immediately.
*   **Application Pool Recycling/Crash:** If the IIS Application Pool assigned to the website was in a stopped state, crashing, or undergoing a "Recycle" (restart) during a maintenance window, the server would fail to serve the application logic and default to this static error.
*   **ISAPI Filter Failure:** In older ASP or ASP.NET architectures (which `.asp` extensions suggest), if the ISAPI filter responsible for processing the code fails to load, IIS treats the request as a static file request. If the static file handler is also restricted, it results in a raw 404.0.

**Crucially**, if this were simply a case of me visiting the wrong URL via HTTPS, the server—assuming it was healthy—would have served the "Astronaut" page (Plesk's default 404) or a generic browser connection error. The presence of the **IIS Native 404** proves that the server software itself was in a state of flux or misconfiguration at that exact moment.

---

### 2. Forensic Evidence: The "Black Page" (Plesk Custom 404)

https://github.com/sparktsang/wangfuk/blob/main/HTTPS_error.png

The second screenshot (the dark page with the astronaut) is what you are currently seeing when forcing HTTPS. This is the **Plesk Default 404 Page**.

This page signifies a completely different server state:
1.  **The Server is Healthy:** The web server (likely Nginx acting as a proxy or IIS itself) is running correctly.
2.  **Configuration is Readable:** The server successfully read the configuration, determined that the specific resource does not exist under the HTTPS vhost, and successfully executed a redirection to the custom error document `error_docs/not_found.html`.

This confirms your finding that HTTPS is currently misconfigured (likely missing an index file in the SSL root or lacking a valid certificate binding), **but this is a "healthy" error.** It is a polite response from a working server saying, "I am here, but I can't find that file."

The error I saw originally was the server screaming, "I am broken, and I cannot even load the instructions on how to be polite."

---

### 3. The "Simultaneous Recovery" Anomaly

You suggested that my browser might have automatically switched to HTTPS. While modern browsers do have "HTTPS-Only" modes, this does not align with the timeline of events.

*   **The Issue:** I experienced the lockout on **both my mobile device and my desktop computer** simultaneously.
*   **The Recovery:** Both devices recovered spontaneously at **11:50 PM** latest.

If this were a client-side browser cache issue or an accidental HTTPS entry, the two devices would not have synchronized their behaviour. My phone does not share a live navigation state with my PC.

The only explanation for two independent clients failing and then recovering at the exact same second is a **Server-Side Event**.
1.  **Before 11:50 PM:** The hosting provider was likely performing a migration, a Windows Server update, or restoring a backup. During this window, the IIS bindings were active but pointing to a void or an unmounted drive, resulting in the **IIS Native 404 (White Page)**.
2.  **At 11:50 PM:** The maintenance task completed. The directory paths were restored. The HTTP service (Port 80) resumed normal function.

However, it appears that during this restoration, the hosting provider neglected to correctly re-map the HTTPS (Port 443) bindings, which is why we are now left with the **Plesk 404 (Black Page)** when attempting SSL connections.

---

### 4. Addressing the Wayback Machine Data

Your observation of the Wayback Machine showing HTTPS snapshots is valid, but the [`303 See Other` response](https://web.archive.org/web/20251204144837/https://www.wangfuk.org/) you may have noted is a **standard application logic redirect**, not a server error.

*   A `303` status code is generated by the PHP script (e.g., `login.php`). It proves that in the past, the HTTPS version of the site was fully functional, capable of executing PHP code, and handling sessions.
*   The error I faced (IIS 404.0) implies the server couldn't even start executing the script.

Therefore, the Wayback Machine history confirms that the site *used* to work on HTTPS, reinforcing the theory that the current HTTPS 404 (Astronaut) is a **new configuration error** introduced after the recent server maintenance, rather than a permanent historical state.

---

### Conclusion

While your advice to avoid HTTPS is currently the correct workaround, it is a symptom of a post-maintenance oversight, not the cause of the original downtime.

**To summarize:**
1.  **My initial error (White Screen):** Caused by an **IIS System Failure** or active maintenance. The server was effectively "brain dead" and reverting to kernel-level error messages.
2.  **The current error (Black Screen):** Caused by **Missing SSL Content**. The server is healthy but the HTTPS virtual host is empty or misdirected.

The fact that the error pages are visually and structurally different proves that the server environment changed significantly between my initial report and your subsequent testing. The "White Screen" confirms I did not simply type the wrong protocol; I hit a server that was temporarily broken.
